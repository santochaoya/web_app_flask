This document is about how to add pagination which means we won't pull down too many posts and how to sort the posts.



# Pagination

This will allow the page only load a certain number of posts, and then gives a link to the other posts. It will save the cost of our system. We can use ```paginate``` method to get this.



## Paginate pages

* Using the argument ```per_page``` to limit the items in each page.

  ```python
  posts = Post.query.paginate(per_page=5)
  ```

  Or ```page=2``` 

  ```python
  posts = Post.query.paginate(pages=2)
  ```

* Get other pages by passing query parameter in URL

  ```python
  page = request.args.get('page', 1, type=int)
  posts = Post.query.paginate(page=page, per_page=5)
  ```
  
  * ```1``` is the default page
  * ```type=int``` force the type pass to URL to integer.

* Get items on the pages

  ```python
  posts.per_page
  posts.page
  ```

* Get total items

  ```python
  posts.total
  ```

  

## Template

Using the paginate in the app, we will set the page number and items on each page. In the ```home.html```,  as ```posts``` is already a paginate, we need to change ```for post in posts``` to ```for post in posts.items```

### Add page button

#### Paginate

Using ```iter_pages()``` to get the pates, it will return the number we will use to link to other pages.

```python
for page in posts.iter_pages():
```

#### Template

Using a loop to get the page number, using these numbers to link to a specific page. If it is return ```None```, we will put that ellipses on that page.

```html
{% for page_num in posts.iter_pages() %}
		{% if page_num %}
				<a class="btn btn-outline-info mb-4" href="{{ url_for('home', page=page_num) }}">{{ page_num }}</a>
		{% else %}
				
		{% endif %}
```

